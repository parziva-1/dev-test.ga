<!DOCTYPE html><html lang="es-ES"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Un lugar donde aprender de todo un poquito."><title>CRUD en Python Con Archivos Y Listas - Tutorial | Dev-Test</title><link rel="stylesheet" type="text/css" href="/dev-test.ga/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/dev-test.ga/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/dev-test.ga/favicon.ico"><link rel="apple-touch-icon" href="/dev-test.ga/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/dev-test.ga/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><meta name="generator" content="Hexo 7.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">CRUD en Python Con Archivos Y Listas - Tutorial</h1><a id="logo" href="/dev-test.ga/.">Dev-Test</a><p class="description">Crea lo que quieras, pero crea...</p></div><div id="nav-menu"><a class="current" href="/dev-test.ga/."><i class="fa fa-home"> Inicio</i></a><a href="/dev-test.ga/archives/"><i class="fa fa-archive"> Archivo</i></a><a href="/dev-test.ga/about/"><i class="fa fa-user"> Acerca de</i></a><a href="/dev-test.ga/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">CRUD en Python Con Archivos Y Listas - Tutorial</h1><div class="post-meta">2021-06-13<span> | </span><span class="category"><a href="/dev-test.ga/categories/Tutoriales/">Tutoriales</a></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">Contenidos</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#CRUD-%C2%BFQue-es"><span class="toc-number">1.</span> <span class="toc-text">CRUD, ¬øQu√© es?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Antes-de-iniciar"><span class="toc-number">2.</span> <span class="toc-text">Antes de iniciar</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Manos-a-la-obra"><span class="toc-number">3.</span> <span class="toc-text">Manos a la obra</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Funciones"><span class="toc-number">4.</span> <span class="toc-text">Funciones</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Limpiar-la-consola"><span class="toc-number">4.1.</span> <span class="toc-text">Limpiar la consola.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#El-menu"><span class="toc-number">4.2.</span> <span class="toc-text">El men√∫</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#La-funcion-principal"><span class="toc-number">4.3.</span> <span class="toc-text">La funci√≥n principal</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Crear-un-producto"><span class="toc-number">4.4.</span> <span class="toc-text">Crear un producto</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Listar-todos-los-productos"><span class="toc-number">4.5.</span> <span class="toc-text">Listar todos los productos</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Modificando-un-producto"><span class="toc-number">4.6.</span> <span class="toc-text">Modificando un producto</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Eliminando-un-producto"><span class="toc-number">4.7.</span> <span class="toc-text">Eliminando un producto</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Buscar-un-producto"><span class="toc-number">4.8.</span> <span class="toc-text">Buscar un producto</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-number">5.</span> <span class="toc-text">Conclusi√≥n</span></a></li></ol></div></div><div class="post-content"><h2 id="CRUD-¬øQue-es"><a href="#CRUD-¬øQue-es" class="headerlink" title="CRUD, ¬øQu√© es?"></a>CRUD, ¬øQu√© es?</h2><p>‚ÄúEn inform√°tica, CRUD es el acr√≥nimo de ‚ÄúCrear, Leer, Actualizar y Borrar‚Äù (del original en ingl√©s: Create, Read, Update and Delete), que se usa para referirse a las funciones b√°sicas en bases de datos o la capa de persistencia en un software.‚Äù <a target="_blank" rel="noopener" href="https://es.wikipedia.org/wiki/CRUD">Wikipedia</a></p>
<blockquote>
<p>üí°<em><strong>Anotaci√≥n:</strong></em> A lo largo de esta gu√≠a, voy a usar <code>&lt;&gt;</code> para indicar que esta parte de la sintaxis ser√° remplazada por el elemento descrito por el texto dentro de ella. Un ejemplo de ello seria <variable> y para temas pr√°cticos voy a usar un diminutivo <var> esto quiere decir que ser√° remplazado por el nombre de una variable cuando escribamos el c√≥digo.</p>
</blockquote>
<h2 id="Antes-de-iniciar"><a href="#Antes-de-iniciar" class="headerlink" title="Antes de iniciar"></a>Antes de iniciar</h2><p>Voy a asumir que ya tienes un entorno √©l el cual tienes un editor de texto configurado y Python instalado, en mi caso voy a usar <code>VS Code</code> y Python en su versi√≥n <code>3.8.5</code>. Y aqu√≠ vas a encontrar el <a target="_blank" rel="noopener" href="https://github.com/parziva-1/dev-test.ga-tutoriales/blob/main/python/CRUD-en-Python-Con-Archivos-Y-Listas/main.py">c√≥digo completo</a> que vamos a hacer en este tutorial por si se te facilita de esta manera.</p>
<p>Para este tutorial vamos a usar:</p>
<ul>
<li>La funci√≥n <code>open()</code> que nos provee Python.</li>
<li><a target="_blank" rel="noopener" href="https://dev-test.ga/2021/05/20/tipos-de-datos-y-estructuras-de-datos-integradas-en-python/#Listas-en-Python">Listas y sus m√©todos.</a></li>
<li>Funciones</li>
<li>Condiciones</li>
<li><a target="_blank" rel="noopener" href="https://dev-test.ga/2021/05/24/ciclo-for-en-Python/">Ciclo for</a></li>
</ul>
<p>Si no te sientes preparado te recomiendo, ir a mirar r√°pidamente en los links que te deje arriba y as√≠ tendr√°s m√°s claro el panorama para entender lo que vamos a hacer.</p>
<h2 id="Manos-a-la-obra"><a href="#Manos-a-la-obra" class="headerlink" title="Manos a la obra"></a>Manos a la obra</h2><p>En este caso hipot√©tico, una tienda quiere tener un inventario de sus productos, para hacerlo f√°cil, solo se van a contemplar 3 aspectos, el nombre del producto, las existencias, y el valor de este producto, cuando termines el tutorial ser√≠a bueno que agregaras un, <code>id</code> a cada producto, y afianzaras todo lo aprendido en este tutorial.</p>
<p>En tu editor de c√≥digo crea una carpeta yo la nombrar√©: <code>Python-CRUD-txt</code>, puedes ponerle el mismo o el que quieras, dentro de ella crea un archivo <code>main.py</code>, es el cual va a alojar el c√≥digo de este tutorial.</p>
<p>Voy a dividir la estructura del tutorial en unas funciones b√°sicas y estas ser√°n:</p>
<ul>
<li>Una funci√≥n para limpiar la consola.</li>
<li>Una funci√≥n para crear el men√∫.</li>
<li>Una funci√≥n principal que se encargara de manejar las otras funciones.</li>
<li>Una funci√≥n para crear productos.</li>
<li>Una funci√≥n para listar todos los productos.</li>
<li>Una funci√≥n para modificar un producto.</li>
<li>Una funci√≥n para eliminar un producto.</li>
<li>Una funci√≥n para buscar un solo producto.</li>
</ul>
<h2 id="Funciones"><a href="#Funciones" class="headerlink" title="Funciones"></a>Funciones</h2><h3 id="Limpiar-la-consola"><a href="#Limpiar-la-consola" class="headerlink" title="Limpiar la consola."></a>Limpiar la consola.</h3><p>Esta funci√≥n es muy f√°cil de entender y le va a dar un toque mucho m√°s profesional a nuestro programa en consola, vamos a importar el m√≥dulo <code>os</code> que viene en Python, nos va a permitir ejecutar comandos en la consola entre otras cosas, te dejo aqu√≠  <a target="_blank" rel="noopener" href="https://docs.python.org/es/3.10/library/os.html">link a la documentaci√≥n</a> oficial si quieres saber m√°s de este m√≥dulo.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#main.py</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">limpiar</span>():</span><br><span class="line">    os.system(<span class="string">&quot;clear&quot;</span>) <span class="comment"># Si estas en Linux o Mac</span></span><br><span class="line">    os.system(<span class="string">&quot;cls&quot;</span>) <span class="comment"># Si estas en Windows</span></span><br><span class="line">    <span class="comment"># Solo deja el del sistema operativo que est√©s usando, para no generar mensajes indeseados</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>üí°<em><strong>Anotaci√≥n:</strong></em> Es posible detectar en que sistema operativo estamos y asi usar un comando u otro, pero para este tutorial decidi dejarlo lo mas entendible y corto posible, si gustas investiga como hacerlo, y te doy una pista: <code>os.name</code> o <code>sys.platform</code> te pueden ayudar a saberlo.</p>
</blockquote>
<h3 id="El-menu"><a href="#El-menu" class="headerlink" title="El men√∫"></a>El men√∫</h3><p>El men√∫ va a ser la parte visual con la que le vamos a permitir al usuario interactuar con nuestro programa, si algo no te gusta te invito a cambiarlo, y compartas tu versi√≥n en los comentarios me gustar√≠a verlo.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#main.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">menu</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;................::::INVENTARIO::::................&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;*&quot;</span> * <span class="number">50</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Selecciona una opci√≥n:&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[C]rear producto&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[L]istar todos los productos&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[M]odificar un producto&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[E]liminar un producto&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[B]usacar un producto&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[S]alir&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;*&quot;</span> * <span class="number">50</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>üí°<em><strong>Anotaci√≥n:</strong></em> Como puedes ver estoy multiplicando un <code>str</code> esta es una cualidad de este tipo de dato si quieres saber mas revisa este <a target="_blank" rel="noopener" href="https://dev-test.ga/2021/05/17/operadores-de-python/#Multiplicacion">link</a>.</p>
</blockquote>
<h3 id="La-funcion-principal"><a href="#La-funcion-principal" class="headerlink" title="La funci√≥n principal"></a>La funci√≥n principal</h3><p>Esta va a ser la funci√≥n que nos va a permitir llamar a nuestras funciones una y otra vez, seg√∫n lo necesitemos y definamos. Adicional a esto vamos a importar el m√≥dulo, <code>time</code>, para dar un retardo entre operaciones ya ver√°s como lo vamos a usar, es 100% opcional igual que el m√≥dulo os, pero le da un toque m√°s profesional, en tus manos esta si usarlo o no.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#main.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    limpiar() <span class="comment"># Llamamos la funci√≥n limpiar para borras y dejar solo lo que queremos en pantalla</span></span><br><span class="line">    menu() <span class="comment"># Llamamos a nuestro men√∫ </span></span><br><span class="line"></span><br><span class="line">    comando = <span class="built_in">input</span>(<span class="string">&quot;&gt;&gt; &quot;</span>) </span><br><span class="line">    comando = comando.upper().strip()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> comando == <span class="string">&#x27;C&#x27;</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> comando == <span class="string">&#x27;L&#x27;</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> comando == <span class="string">&#x27;M&#x27;</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> comando == <span class="string">&#x27;E&#x27;</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> comando == <span class="string">&#x27;B&#x27;</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> comando == <span class="string">&#x27;S&#x27;</span>:</span><br><span class="line">        os._exit(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Comando inv√°lido&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        main()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>üí°<em><strong>Explicaci√≥n:</strong></em></p>
<ul>
<li>Iniciamos llamando a nuestras funciones que acabamos de crear.</li>
<li>Definimos una variable <code>comando</code> para alojar lo que el usuario decida hacer unamos dos m√©todos de los <code>str</code>, <code>upper</code> para asegurarnos de poder evaluar correctamente el comando y <code>strip</code> para eliminar los espacios que el usuario pudo digitar por error.</li>
<li>Declaramos una cadena de condiciones para poder evaluar la entrada del usuario y redirigirlo a la parte que quiere ir.</li>
<li>Y en caso del valor ser errado le informamos al usuario y volvemos a llamar a nuestra funci√≥n principal. Usamos <code>os._exit(1)</code> para interrumpir la ejecuci√≥n de nuestro programa y sacar al usuario.</li>
<li>Por √∫ltimo ver√°s <code>time.sleep(1)</code>, es por lo cual importamos el m√≥dulo <code>time</code> esta funci√≥n pausa la ejecuci√≥n de nuestro programa por la cantidad de segundos que le indiquemos como argumento.</li>
</ul>
</blockquote>
<p>Y con esto puedes ver como va quedando nuestro programa actualmente.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#main.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os, time</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">limpiar</span>():</span><br><span class="line">    os.system(<span class="string">&quot;clear&quot;</span>) <span class="comment"># Si estas en Linux o Mac</span></span><br><span class="line">    os.system(<span class="string">&quot;cls&quot;</span>) <span class="comment"># Si estas en Windows</span></span><br><span class="line">    <span class="comment"># Solo deja el del sistema operativo que est√©s usando, para no generar mensajes indeseados</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">menu</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;................::::INVENTARIO::::................&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;*&quot;</span> * <span class="number">50</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Selecciona una opci√≥n:&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[C]rear producto&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[L]istar todos los productos&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[M]odificar un producto&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[E]liminar un producto&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[B]usacar un producto&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[S]alir&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;*&quot;</span> * <span class="number">50</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    limpiar() <span class="comment"># Llamamos la funci√≥n limpiar para borras y dejar solo lo que queremos en pantalla</span></span><br><span class="line">    menu() <span class="comment"># Llamamos a nuestro men√∫ </span></span><br><span class="line"></span><br><span class="line">    comando = <span class="built_in">input</span>(<span class="string">&quot;&gt;&gt; &quot;</span>) </span><br><span class="line">    comando = comando.upper().strip()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> comando == <span class="string">&#x27;C&#x27;</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> comando == <span class="string">&#x27;L&#x27;</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> comando == <span class="string">&#x27;M&#x27;</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> comando == <span class="string">&#x27;E&#x27;</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> comando == <span class="string">&#x27;B&#x27;</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> comando == <span class="string">&#x27;S&#x27;</span>:</span><br><span class="line">        os._exit(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Comando inv√°lido&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        main()</span><br></pre></td></tr></table></figure>

<p>Si quieres ejecutarlo llama la funci√≥n principal al final del archivo y ver√°s algo como esto.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">................::::INVENTARIO::::................</span><br><span class="line">**************************************************</span><br><span class="line">Selecciona una opci√≥n:</span><br><span class="line">[C]rear producto</span><br><span class="line">[L]istar todos los productos</span><br><span class="line">[M]odificar un producto</span><br><span class="line">[E]liminar un producto</span><br><span class="line">[B]usacar un producto</span><br><span class="line">[S]alir</span><br><span class="line">**************************************************</span><br><span class="line">&gt;&gt; </span><br></pre></td></tr></table></figure>

<p>Hasta este momento solo realizamos la parte visual y planteamos el comportamiento de nuestro programa, ahora vamos a implementar el <code>CRUD</code> para darle poder almacenar y persistir los datos dados por el cliente.</p>
<h3 id="Crear-un-producto"><a href="#Crear-un-producto" class="headerlink" title="Crear un producto"></a>Crear un producto</h3><p>En nuestro archivo <code>main.py</code> vamos a definir otra funci√≥n la cual tendr√° por nombre crear, y recibir√° por par√°metros los datos necesarios para la creaci√≥n del producto, los cuales ser√°n nombre, existencias y valor. Quedando de esta manera.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">crear</span>(<span class="params">nombre, existencias, valor</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>Ahora vamos a implementar la parte para poder leer y escribir en un archivo de texto plano, vamos a hacer uso de la funci√≥n <code>open</code> que su sintaxis es: </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="built_in">open</span>&gt;(&lt;nombre_del_archivo&gt;.&lt;la_extencion&gt;, &lt;metodo_de_apertura&gt;)  </span><br></pre></td></tr></table></figure>
<p>un ejemplo seria</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">open</span>(<span class="string">&quot;inventario&quot;</span>, <span class="string">&quot;a&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>Te invito a leer m√°s sobre los modos de apertura en este <a target="_blank" rel="noopener" href="https://uniwebsidad.com/libros/python/capitulo-9/sobre-el-objeto-file">link</a>, En mi caso he decidido solo usar el modo <code>r</code> y el modo <code>w</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#main.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">crear</span>(<span class="params">nombre, existencias, valor</span>):</span><br><span class="line">    clear() <span class="comment"># Llamamos la funci√≥n limpiar para borras y dejar solo lo que queremos en pantalla</span></span><br><span class="line">    lineas=[]</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line">        lineas = f.readlines()</span><br><span class="line">        f.close()</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<blockquote>
<p>üí°<em><strong>Explicaci√≥n:</strong></em></p>
<ul>
<li>Declaramos una variable tipo lista para alojar toda la informaci√≥n que tenga nuestro archivo.</li>
<li>Como ves hago uso de <code>try</code> y <code>except</code> para manejar los errores que puedan surgir por los modos de apertura que eleg√≠.</li>
<li>Con esto le estamos diciendo a Python si el archivo existe √°brelo y dame toda la informaci√≥n en mi lista y cierra el archivo.</li>
<li>Si el archivo no existe se va a producir un error y se va a ejecutar lo que este dentro de <code>except</code> creando el archivo.</li>
<li>El m√©todo <code>readlines</code> lo que va a hacer es leer cada l√≠nea del archivo y s√© raparlos en una lista.</li>
</ul>
</blockquote>
<p>Seguimos: </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#main.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">crear</span>(<span class="params">nombre, existencias, valor</span>):</span><br><span class="line">    clear() </span><br><span class="line">    lineas=[]</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line">        lineas = f.readlines()</span><br><span class="line">        f.close()</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> nombre+<span class="string">&quot;\n&quot;</span> <span class="keyword">in</span> lineas:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Este producto ya esta en el inventario&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line">        main()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line">        lineas.append(nombre)</span><br><span class="line">        lineas.append(existencias)</span><br><span class="line">        lineas.append(valor)</span><br><span class="line">        <span class="keyword">for</span> linea <span class="keyword">in</span> lineas:</span><br><span class="line">            f.write(<span class="built_in">str</span>(linea.strip()+<span class="string">&quot;\n&quot;</span>))</span><br><span class="line">        f.close()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Producto agregado exitosamente.&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line">        main()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>üí°<em><strong>Explicaci√≥n:</strong></em> </p>
<ul>
<li>Primero declaramos una condici√≥n que verifique si el producto con ese nombre ya existe en nuestra lista, usamos el nombre que nos dan como par√°metro, en la lista cada l√≠nea al final tiene un salto de l√≠nea <code>\n</code> necesitamos agreg√°rselo o quitarlo para hacer la comparaci√≥n yo decid√≠ agregarlo.</li>
<li>Si hay alguna conciencia le informamos al usuario y lo mandamos al men√∫ principal.</li>
<li>Si no se encuentra ninguna conciencia, seguimos con la ejecuci√≥n de nuestro programa.</li>
<li>Aqu√≠ nuestra forma de actuar es simple, como l√≠neas es una lista podemos usar los m√©todos de las listas para agregar datos.</li>
<li>Abrimos el archivo, guardo el enlace en una variable f haciendo referencia a <code>file</code> archivo en ingles.</li>
<li>A√±adimos los datos dados en el orden que queramos, con el m√©todo <code>append</code> que nos agrega un elemento al final de la lista.</li>
<li>Ya tenemos nuestro elemento en la lista, ahora toca pasarlos al archivo.</li>
<li>Esto lo hacemos ayud√°ndonos de un ciclo, y usando un m√©todo de la funci√≥n <code>open</code> que es <code>write</code>.</li>
<li>L√≠nea siendo la l√≠nea actual tenemos que contemplar que viene con un salto de l√≠nea que puede romper nuestro programa as√≠ que lo quitamos.</li>
<li>Le agregamos a cada uno de las l√≠neas al final un <code>\n</code> para dar el salto de l√≠nea en el archivo.</li>
<li>Mostramos un mensaje y movemos al usuario al men√∫ principal.</li>
</ul>
</blockquote>
<p>Con esto ya terminamos la funci√≥n que nos va a permitir crear un nuevo producto en el archivo.</p>
<h3 id="Listar-todos-los-productos"><a href="#Listar-todos-los-productos" class="headerlink" title="Listar todos los productos"></a>Listar todos los productos</h3><p>Hasta el momento ya tenemos una funci√≥n que nos permite crear un nuevo producto y lo ingresa en el archivo, ahora vamos a ver como podemos mostrar todos y cada uno de los productos en pantalla. Para esto usaremos otra funci√≥n que la nombrar√© como <code>listar</code> y la cual no recibir√° ning√∫n par√°metro.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#main.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">listar</span>():</span><br><span class="line">    clear()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;................::::INVENTARIO::::................&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;*&quot;</span> * <span class="number">50</span>)</span><br><span class="line">    lineas=[]</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line">        lineas = f.readlines()</span><br><span class="line">        f.close()</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> lineas == []:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;No hay productos...&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line">        main()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> linea <span class="keyword">in</span> lineas:</span><br><span class="line">            <span class="built_in">print</span>(linea.strip(<span class="string">&quot;\n&quot;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            regresar = <span class="built_in">input</span>(<span class="string">&quot;[R]egresar: &quot;</span>)</span><br><span class="line">            regresar = regresar.upper().strip()</span><br><span class="line">            <span class="keyword">if</span> regresar == <span class="string">&quot;R&quot;</span>:</span><br><span class="line">                main()</span><br></pre></td></tr></table></figure>

<p>A partir de aqu√≠ ver√°s que se empiezan a repetir algunas partes y debe ser as√≠, porque estamos haciendo consultas que tienen mucho en com√∫n.</p>
<blockquote>
<p>üí°<em><strong>Explicaci√≥n:</strong></em> </p>
<ul>
<li>Usamos el mismo manejo de errores que en la funci√≥n crear, estoy seguro de que se puede cambiar, te invito a que lo intentes.</li>
<li>Hacemos una comparaci√≥n simple luego de obtener la lista y en caso de estar vac√≠a le informamos al cliente y lo mandamos al inicio.</li>
<li>Viene lo interesante de esta parte, con un ciclo <code>for</code> y quitando el salto de l√≠nea imprimimos la lista en pantalla.</li>
<li>Uso un <code>while</code> infinito solo para que el usuario decida cuando quiere salir de esa funci√≥n.</li>
</ul>
</blockquote>
<p>Con esto ya tenemos medio programa, intenta a ejecutarlo y a a√±adir algunos art√≠culos y verlos con la funci√≥n que creamos. Antes no te olvides de agregar las funciones a la funci√≥n principal de esta manera.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#main.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    limpiar() <span class="comment"># Llamamos la funci√≥n limpiar para borras y dejar solo lo que queremos en pantalla</span></span><br><span class="line">    menu() <span class="comment"># Llamamos a nuestro men√∫ </span></span><br><span class="line"></span><br><span class="line">    comando = <span class="built_in">input</span>(<span class="string">&quot;&gt;&gt; &quot;</span>) </span><br><span class="line">    comando = comando.upper().strip()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> comando == <span class="string">&#x27;C&#x27;</span>:</span><br><span class="line">        nombre = <span class="built_in">input</span>(<span class="string">&quot;Nombre del producto a crear: &quot;</span>)</span><br><span class="line">        existencias = <span class="built_in">input</span>(<span class="string">&quot;Ingresa las existencias del producto: &quot;</span>)</span><br><span class="line">        valor = <span class="built_in">input</span>(<span class="string">&quot;Ingresa el valor del producto: &quot;</span>)</span><br><span class="line">        crear(nombre, existencias, valor)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> comando == <span class="string">&#x27;L&#x27;</span>:</span><br><span class="line">        listar()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> comando == <span class="string">&#x27;M&#x27;</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> comando == <span class="string">&#x27;E&#x27;</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> comando == <span class="string">&#x27;B&#x27;</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> comando == <span class="string">&#x27;S&#x27;</span>:</span><br><span class="line">        os._exit(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Comando inv√°lido&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        main()</span><br></pre></td></tr></table></figure>
<p>Creo que no hace falta decir que hacen los inputs ah√≠ ¬øverdad?</p>
<h3 id="Modificando-un-producto"><a href="#Modificando-un-producto" class="headerlink" title="Modificando un producto"></a>Modificando un producto</h3><p>Iniciamos la recta final, y si faltan 3 funciones que son las m√°s complejas pero a su vez son muy parecidas as√≠ que con una podremos hacer las otras, empecemos.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#main.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">modificar</span>(<span class="params">nombre</span>):</span><br><span class="line">    clear()</span><br><span class="line">    lineas=[]</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line">        lineas = f.readlines()</span><br><span class="line">        f.close()</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> nombre+<span class="string">&quot;\n&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> lineas:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Producto no encontrado&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line">        main()</span><br></pre></td></tr></table></figure>

<p>Te resulta familiar esta estructura, y deber√≠a ser as√≠ porque la usamos en las anteriores funciones el principio es el mismo.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#main.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">modificar</span>(<span class="params">nombre</span>):</span><br><span class="line">    clear()</span><br><span class="line">    lineas=[]</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line">        lineas = f.readlines()</span><br><span class="line">        f.close()</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> nombre+<span class="string">&quot;\n&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> lineas:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Producto no encontrado&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line">        main()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> linea <span class="keyword">in</span> lineas:</span><br><span class="line">            <span class="keyword">if</span> linea == nombre+<span class="string">&quot;\n&quot;</span>:</span><br><span class="line">                indice = lineas.index(linea)</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;[N]ombre: <span class="subst">&#123;lineas[indice].strip()&#125;</span>, [E]xistencias: <span class="subst">&#123;lineas[indice+<span class="number">1</span>].strip()&#125;</span>, [P]recio: <span class="subst">&#123;lineas[indice+<span class="number">2</span>].strip()&#125;</span>, [S]alir al men√∫ principal&quot;</span>)</span><br><span class="line">                    comando = <span class="built_in">input</span>(<span class="string">&quot;Que quieres modificar: &quot;</span>)</span><br><span class="line">                    comando = comando.upper().strip()</span><br><span class="line">                    existencias, precio = <span class="literal">None</span>, <span class="literal">None</span></span><br><span class="line">                    <span class="keyword">if</span> comando == <span class="string">&quot;N&quot;</span>:</span><br><span class="line">                        nombre = <span class="built_in">input</span>(<span class="string">&quot;Nombre del producto: &quot;</span>)+<span class="string">&quot;\n&quot;</span></span><br><span class="line">                        lineas[indice] = nombre</span><br><span class="line">                    <span class="keyword">elif</span> comando == <span class="string">&quot;E&quot;</span>:</span><br><span class="line">                        existencias = <span class="built_in">input</span>(<span class="string">&quot;Canditad de existencias del producto: &quot;</span>)+<span class="string">&quot;\n&quot;</span></span><br><span class="line">                        lineas[indice+<span class="number">1</span>] = existencias</span><br><span class="line">                    <span class="keyword">elif</span> comando == <span class="string">&quot;P&quot;</span>:</span><br><span class="line">                        precio = <span class="built_in">input</span>(<span class="string">&quot;precio del producto: &quot;</span>)+<span class="string">&quot;\n&quot;</span></span><br><span class="line">                        lineas[indice+<span class="number">2</span>] = precio</span><br><span class="line">                    <span class="keyword">elif</span> comando == <span class="string">&quot;S&quot;</span>:</span><br><span class="line">                        <span class="keyword">if</span> lineas[indice] == nombre <span class="keyword">or</span> lineas[indice+<span class="number">1</span>] != existencias <span class="keyword">or</span> lineas[indice+<span class="number">2</span>] != precio:</span><br><span class="line">                            f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line">                            <span class="keyword">for</span> linea <span class="keyword">in</span> lineas:</span><br><span class="line">                                f.write(<span class="built_in">str</span>(linea))</span><br><span class="line">                            f.close()</span><br><span class="line">                            <span class="built_in">print</span>(<span class="string">&quot;Producto modificado exitosamente.&quot;</span>)</span><br><span class="line">                            time.sleep(<span class="number">2</span>)</span><br><span class="line">                            main()</span><br><span class="line">                        <span class="keyword">else</span>:</span><br><span class="line">                            main()</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="built_in">print</span>(<span class="string">&quot;Comando no valido&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>Y aqu√≠ tenemos nuestra funci√≥n terminada.</p>
<blockquote>
<p>üí°<em><strong>Explicaci√≥n:</strong></em> </p>
<ul>
<li>Doy por sentado que ya est√°s familiarizado a este punto con como trabajamos con las listas y vamos a iterar en una lista con un ciclo <code>for</code>.</li>
<li>Con una condici√≥n buscando un valor en espec√≠fico donde, una vez lo ubic√≥ con el m√©todo de las listas <code>index</code> obtengo el √≠ndice del nombre de mi producto y lo almaceno en una variable, para poder actualizarlo.</li>
<li>Una vez es encontrado uso un ciclo while Infinito, con ayuda de un <a target="_blank" rel="noopener" href="https://dev-test.ga/2021/05/20/tipos-de-datos-y-estructuras-de-datos-integradas-en-python/#f-Strings">f-string</a> vamos a mostrar la informaci√≥n en pantalla del producto a modificar.</li>
<li>Mostramos un men√∫ para que el usuario pueda indicarnos lo que desea hacer, lo manejamos de la misma manera que hicimos al inicio del programa.</li>
<li>Cuando el usuario quiere volver al men√∫ principal surge un problema, y este es ¬ømodifico algo o no?, yo le di respuesta a esta pregunta de esta manera, declaro dos variables <code>existencias, precio = None, None</code> si est√°s confundido esto se llama <a target="_blank" rel="noopener" href="https://dev-test.ga/2021/05/20/tipos-de-datos-y-estructuras-de-datos-integradas-en-python/#Asignacion-de-tupla-Tuple-assignment">asignaci√≥n de tupla</a>, las inicio sin valor para luego hacer una comparaci√≥n, no inicio nombre porque ya lo tenemos como par√°metro as√≠ que no hace falta.</li>
<li>La comparaci√≥n radica en que si algunos de los valores ingresados por el usuario es igual a uno de la lista es porque se realiz√≥ una modificaci√≥n y se procede a hacerlos permanentes.</li>
<li>Cabe resaltar que cuando se les pide los valores con la funci√≥n <code>input</code> se le concatena un string que no es m√°s que un salto de l√≠nea.</li>
</ul>
</blockquote>
<p>Y de esta manera tendr√≠amos un sistema funcional para editar un producto de nuestro <code>inventario.txt</code></p>
<h3 id="Eliminando-un-producto"><a href="#Eliminando-un-producto" class="headerlink" title="Eliminando un producto"></a>Eliminando un producto</h3><p>En esta parte me limitar√© a explicar las diferencias con las otras funciones.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#main.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">eliminar</span>(<span class="params">nombre</span>):</span><br><span class="line">    clear()</span><br><span class="line">    lineas=[]</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line">        lineas = f.readlines()</span><br><span class="line">        f.close()</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> nombre+<span class="string">&quot;\n&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> lineas:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Producto no encontrado&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line">        main()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> linea <span class="keyword">in</span> lineas:</span><br><span class="line">            <span class="keyword">if</span> linea == nombre+<span class="string">&quot;\n&quot;</span>:</span><br><span class="line">                indice = lineas.index(linea)</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;Nombre: <span class="subst">&#123;lineas[indice].strip()&#125;</span>, Existencias: <span class="subst">&#123;lineas[indice+<span class="number">1</span>].strip()&#125;</span>, Precio: <span class="subst">&#123;lineas[indice+<span class="number">2</span>].strip()&#125;</span>&quot;</span>)</span><br><span class="line">                    comando = <span class="built_in">input</span>(<span class="string">&quot;Escribe [SI] para eliminar este producto o [NO] para regresar al men√∫ principal: &quot;</span>)</span><br><span class="line">                    comando = comando.upper().strip()</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> comando == <span class="string">&quot;SI&quot;</span> <span class="keyword">or</span> comando == <span class="string">&quot;S&quot;</span>:</span><br><span class="line">                        lineas.pop(indice+<span class="number">2</span>)</span><br><span class="line">                        lineas.pop(indice+<span class="number">1</span>)</span><br><span class="line">                        lineas.pop(indice)</span><br><span class="line">                        f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line">                        <span class="keyword">for</span> linea <span class="keyword">in</span> lineas:</span><br><span class="line">                            f.write(<span class="built_in">str</span>(linea.strip()+<span class="string">&quot;\n&quot;</span>))</span><br><span class="line">                        f.close()</span><br><span class="line">                        <span class="built_in">print</span>(<span class="string">&quot;Producto Eliminado exitosamente.&quot;</span>)</span><br><span class="line">                        time.sleep(<span class="number">2</span>)</span><br><span class="line">                        main()</span><br><span class="line">                    <span class="keyword">elif</span> comando == <span class="string">&quot;No&quot;</span> <span class="keyword">or</span> comando == <span class="string">&quot;N&quot;</span>:</span><br><span class="line">                        main()</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="built_in">print</span>(<span class="string">&quot;Comando no v√°lido&quot;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>üí°<em><strong>Explicaci√≥n:</strong></em> </p>
<ul>
<li>La principal diferencia con el anterior radica en cuando el usuario le da a la opci√≥n de querer eliminar el producto</li>
<li>Como ya tenemos el √≠ndice de ese producto en la lista, lo √∫nico que tenemos que hacer es retirarlo, para eso usamos el m√©todo <code>pop</code> que por par√°metro le pasamos el inicio del elemento que queremos retirar.</li>
<li>En este caso un producto se compone por 3 elementos que son, su nombre, sus existencias y su valor. Como son 3 vamos a eliminar primero el que tiene un √≠ndice mayor luego el del medio y por √∫ltimo el de √≠ndice menor.</li>
<li>Una vez eliminado de la lista procedemos a hacer permanente los cambios en el archivo.</li>
</ul>
</blockquote>
<p>Est√°s entendiendo todo hasta este punto, si no es as√≠ por favor d√≠melo en los comentarios que es lo que se te dificulta para poder ayudarte.</p>
<h3 id="Buscar-un-producto"><a href="#Buscar-un-producto" class="headerlink" title="Buscar un producto"></a>Buscar un producto</h3><p>Esta funci√≥n es algo redundante, porque al tener una que lista todos los productos pasar√≠a a un segundo plano, pero vamos a agregarle algo de valor.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#main.py </span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">buscar</span>(<span class="params">nombre</span>):</span><br><span class="line">    clear()</span><br><span class="line">    lineas=[]</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line">        lineas = f.readlines()</span><br><span class="line">        f.close()</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&quot;inventario.txt&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> nombre+<span class="string">&quot;\n&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> lineas:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Producto no encontrado&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line">        main()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> linea <span class="keyword">in</span> lineas:</span><br><span class="line">            <span class="keyword">if</span> linea == nombre+<span class="string">&quot;\n&quot;</span>:</span><br><span class="line">                indice = lineas.index(linea)</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;Nombre: <span class="subst">&#123;lineas[indice].strip()&#125;</span>, Existencias: <span class="subst">&#123;lineas[indice+<span class="number">1</span>].strip()&#125;</span>, Precio: <span class="subst">&#123;lineas[indice+<span class="number">2</span>].strip()&#125;</span>&quot;</span>)</span><br><span class="line">                <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                    comando = <span class="built_in">input</span>(<span class="string">&quot;¬øQue desea hacer?, [E]liminarlo, [M]odificarlo, [R]eguresar al men√∫: &quot;</span>)</span><br><span class="line">                    comando = comando.upper().strip()</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> comando == <span class="string">&quot;E&quot;</span>:</span><br><span class="line">                        eliminar(nombre)</span><br><span class="line">                    <span class="keyword">elif</span> comando == <span class="string">&quot;M&quot;</span>:</span><br><span class="line">                        modificar(nombre)</span><br><span class="line">                    <span class="keyword">elif</span> comando == <span class="string">&quot;R&quot;</span>:</span><br><span class="line">                        main()</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="built_in">print</span>(<span class="string">&quot;Comando no v√°lido&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>üí°<em><strong>Explicaci√≥n:</strong></em> </p>
<ul>
<li>La √∫nica diferencia con las dos funciones anteriores radica en el men√∫, desde aqu√≠ vamos a llamar a las otras dos funciones seg√∫n el usuario lo pida.</li>
</ul>
</blockquote>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusi√≥n"></a>Conclusi√≥n</h2><p>Aqu√≠ te dejo el c√≥digo completo en un <a target="_blank" rel="noopener" href="https://github.com/parziva-1/dev-test.ga-tutoriales/blob/main/python/CRUD-en-Python-Con-Archivos-Y-Listas/main.py">repositorio</a> para que lo puedas ver completo </p>
<p>Espero que este tutorial te haya sido de utilidad para entender el concepto de trabajar con archivos y listas, como leerlos, como modificarlos, como modificar una lista, usar sus m√©todos en un entorno rea</p>
<p>Claramente este <code>CRUD</code> es solo para practicar en un entorno real usar√≠amos una base de datos y otros para tener la informaci√≥n y no en texto plano, como podr√≠a ser un <code>JSON</code> o <code>XML</code>, Pero todos van con las mismas funciones ‚ÄúCrear, Leer, Actualizar y Borrar‚Äù.<br>Te pareci√≥ √∫til comp√°rtelo con tus compa√±eros, comenta si cambiarias algo, me gustar√≠a leer tu opini√≥n, gracias por llegar hasta aqu√≠, y nos vemos en otros art√≠culos.</p>
</div><div class="tags"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/dev-test.ga/tags/CRUD/" rel="tag">CRUD</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/dev-test.ga/tags/Python/" rel="tag">Python</a></li></ul></div><div class="post-nav"><a class="next" href="/dev-test.ga/2021/06/02/Funciones-En-python/">Funciones En Python</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://parziva-1.github.io/dev-test.ga"/></form></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="Acerca de"><img class="nofancybox" src="/img/avatar.png"/></a><p>To be a better man.</p><a class="info-icon" href="https://twitter.com/username" title="Twitter" target="_blank" style="margin-inline:5px"> <i class="fa fa-twitter-square" style="margin-inline:5px"></i></a><a class="info-icon" href="mailto:admin@domain.com" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/username" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="/atom.xml" title="RSS" target="_blank" style="margin-inline:5px"> <i class="fa fa-rss-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categor√≠as</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/dev-test.ga/categories/Principiantes/">Principiantes</a></li><li class="category-list-item"><a class="category-list-link" href="/dev-test.ga/categories/Tutoriales/">Tutoriales</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Etiquetas</i></div><div class="tagcloud"><a href="/dev-test.ga/tags/Python/" style="font-size: 15px;">Python</a> <a href="/dev-test.ga/tags/NewsLetter/" style="font-size: 15px;">NewsLetter</a> <a href="/dev-test.ga/tags/SendGrid/" style="font-size: 15px;">SendGrid</a> <a href="/dev-test.ga/tags/SMPT/" style="font-size: 15px;">SMPT</a> <a href="/dev-test.ga/tags/CRUD/" style="font-size: 15px;">CRUD</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recientes</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/dev-test.ga/2021/06/13/tutorial-CRUD-Python-txt/">CRUD en Python Con Archivos Y Listas - Tutorial</a></li><li class="post-list-item"><a class="post-list-link" href="/dev-test.ga/2021/06/02/Funciones-En-python/">Funciones En Python</a></li><li class="post-list-item"><a class="post-list-link" href="/dev-test.ga/2021/05/24/ciclo-for-en-Python/">Ciclo for en Python</a></li><li class="post-list-item"><a class="post-list-link" href="/dev-test.ga/2021/05/20/tipos-de-datos-y-estructuras-de-datos-integradas-en-python/">Tipos de datos y estructuras de datos integradas en Python</a></li><li class="post-list-item"><a class="post-list-link" href="/dev-test.ga/2021/05/19/Que-es-sendgrid-smpt-email-newsletter-tutorial/">¬øQu√© es SendGrid? SMPT email newsletter tutorial</a></li><li class="post-list-item"><a class="post-list-link" href="/dev-test.ga/2021/05/17/operadores-de-python/">Operadores de python</a></li><li class="post-list-item"><a class="post-list-link" href="/dev-test.ga/2021/05/14/tipado-python/">Tipado En python</a></li><li class="post-list-item"><a class="post-list-link" href="/dev-test.ga/2021/05/03/python-01/">Definici√≥n de variables en Python</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright ¬© 2024 <a href="/dev-test.ga/." rel="nofollow">Dev-Test.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/dev-test.ga/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/dev-test.ga/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><script type="text/javascript" src="/dev-test.ga/js/copycode.js?v=1.0.0" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/dev-test.ga/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/dev-test.ga/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/dev-test.ga/js/smartresize.js?v=1.0.0"></script></div></body></html>